# 本机登录密码：123456


# 重要目录介绍
## Windows系统下重要项目及文档目录
### C:\Users\tangjiahao\Documents\EPIC象印
目录内容描述：存放公司相关文档，涉及本人曾接手项目，软件开发记录，部分硬件技术文档

### C:\Users\tangjiahao\Documents\EPIC象印\操控软件\相关数据协议及硬件文档  中重要文件介绍
- C:\Users\tangjiahao\Documents\EPIC象印\操控软件\相关数据协议及硬件文档\ZH2021扫描仪通讯协议20211104.docx 为线扫指令定义文档，用于W50,W100线扫操控指令通讯

- C:\Users\tangjiahao\Documents\EPIC象印\操控软件\相关数据协议及硬件文档\W100线扫文件头定义 用于解析epr点云数据帧

- C:\Users\tangjiahao\Documents\EPIC象印\操控软件\相关数据协议及硬件文档\激光雷达数据格式标准-20220628
为EPIC采集工程结构定义

### C:\Users\tangjiahao\Documents\EPIC象印\外部硬件设备文档  中重要文件介绍

- C:\Users\tangjiahao\Documents\EPIC象印\外部硬件设备文档\E103-W05B_WIFI模块 W50设备中适用的WIFI模块文档，包括了AT指令的定义和WIFI模块各个模式使用以及部分调试工具
- C:\Users\tangjiahao\Documents\EPIC象印\外部硬件设备文档\GNSS板卡 中为各个类型GPS板卡的指令集定义
- C:\Users\tangjiahao\Documents\EPIC象印\外部硬件设备文档\相机 中为目前使用的海鸥及睿珀相机SDK库和官方文档及实例

---

###  D:\ProgramLibrary
目录内容描述：存放Windows平台开发项目内容和部分测试项目，关键项目有（*EPiC Copy Tools* , *IMUConvert转换工具*，公司*SVN CheckOut*存放路径）
#### 1. EPiC Copy Tools 相关
工程项目存放路径：**D:\ProgramLibrary\ext4FSD\EpicCopyTool**

软件安装包打包配置：**D:\ProgramLibrary\ext4FSD\EpicCopyTool软件打包**(供AdvancedInstallerPortable打包软件使用)

项目为QT工程，可使用电脑上安装的QtCreator打开并修改代码（若需要调试，需要使用管理员权限打开QtCreator）

#### 2. IMUConvert转换工具 相关

工程项目存放路径：**D:\ProgramLibrary\IMUConvert**

项目代码包含多个版本，且该目录下所存版本不是最新版本，最新版本在虚拟机硬盘中，此处代码曾用于开发Windows平台IMU转换测试工具，使用VS2015，工具生成路径于 *D:\ProgramLibrary\IMUConvert\IMUconvert-20230113\bin\x86_x64-vc140*

#### 3. SVN 路径

目录路径：**D:\ProgramLibrary\SVN**

该路径为SVN服务器下CheckOut的输出路径，相关项目包括机载操控服务，EPiC Copy Tools，EPiCloud Center

备注：**D:\ProgramLibrary\SVN\20 MMS\01 Easy Pilot Access\src\trunk\04-SERVICE\src\qtctrl** 该路径内代码为曾经要求的生产测试工具的工程，没有上传SVN，目前搁置。目录内仅为简单搭建框架和界面的代码。如果后续有开发要求，可以以此为参考。

#### 4. 其他曾经使用或编写过的测试工具

目录路径：**D:\ProgramLibrary\Projects-2010\Projects**

---

### D:\机载设备服务配置

目录内容描述：存放各个机载设备类型的相关配置参数，主要是标定参数（操控相关配置自V-1.00.02版本后转移至SVN目录）
D:\机载设备服务配置\W100\ZYNC Linux文件系统 目录中存放用于烧录ZYNQ Linux系统的最新版本，用于W30 W100中

---
### D:\软件日志记录
个人存放测试日志的目录

---
## Linux虚拟器系统中重要目录

注：虚拟机文件存放于目录**D:\虚拟机系统\Ubuntu_14.04.2_x64_old**中

### 1. /home/hdsy/Projects/MMS_SERVICE_2021
目录介绍：操控服务工程代码目录，QT工程

本人使用Git工具管理和开发操控分支，目前存在3个分支：

- SERVICE-Branch-Rock ： 海外Rock版本，目前开发进度在1.00.05-Beta
- SERVICE-EPIC：国内版本2.0预研分支，去除和修改旧库和多余代码，目前开发中
- SERVICE-Main：国内版本1.X开发分支，目前国内正在使用的代码版本，开发进度在1.00.04-Beta

### 2. /home/hdsy/Projects/iLSP-2021
目录介绍：国产线扫操控SDK代码目录，QT工程
W50和W100所用扫描头的操控代码，目前开发完成状态

### 3. /home/hdsy/Projects/convert
目录介绍：IMU转换IMR工程代码目录，Linux下目前使用CODE::Blocks IDE搭载编译环境
为最新版本，支持EPIC最新imr头

---
# 本人接手和负责项目和开发内容介绍
## 机载操控服务
机载操控服务目前分为国内和国外版本。

国内版本适用设备：X10,W30,W50,W100。当前版本处于V-1.00.04-Beta（未发布），当前开发进度：W50 wifi模式通讯支持，RTK实时点云功能优化

国外版本适用设备：R3,R3-Pro。当前版本为：V-1.00.05-Beta(已发布)



---

## EpicCopyTool软件
EpicCopyTool软件是Windows Qt平台下开发的UI图形界面软件，用于实现Windows系统下读取和修改Linux Ext文件系统的存储设备。

目前开发完成，处于V-1.00.02-Beta版本（已发布）

---

# 近期功能开发进度
## 机载操控服务RTK实时点云功能
进度：90% 

需要配合徐博士调试效果，相关代码位于SERVICE服务中的大疆PSDK部分以及惯导-GPS板卡部分

核心代码接口实现：
### rpc/dji/djidatatrans.h/cpp
askDroneRTKInfo()

### sensor_impl_meta_novatel.h/cpp中
Loopcoup_run()

注意：
RTK所用的实时惯导POS解算库为徐博士修改版本，目前所用的版本位于

*C:\Users\tangjiahao\AppData\Roaming\feiq\Recv Files\实时POS解算库更新（旧版本0720）\ARM\Release* 目录下 如果功能调试稳定后，应在确认可同时使用于RTK和非RTK解算后，更新入服务工程的3rd中

## W50 WIFI/电台模式通讯实现
进度：60%

wifi模块的AT指令通讯功能开发基本完成，后续需要集成入rpc工程中，并在对应模式中使用底层AT指令通讯。可借鉴RPC中大疆psdk通讯框架进行开发

核心代码实现：

### core/serial/atcmd_manager.h/cpp

## 睿珀相机SDK集成
进度：90%
SDK集成和功能开发已完成，操控实现类似于海鸥相机。使用睿珀自己定义的指令来控制相机，设置参数。详细指令协议定义见*C:\Users\tangjiahao\Documents\EPIC象印\外部硬件设备文档\相机\成都睿博相机SDK\USB SDK V4资料包0525\Rainpoo_V3.0_USB&Serial对外_20230512_P.xlsx*

## 操控服务架构优化以及去除敏感信息
进度：50%
代码处于虚拟机服务工程SERVICE-EPIC git分支中。

目前完成工程结构优化及重命名，使用EPIC命名版本的依赖库（实时融合，线扫SDK）可成功编译

待进行工作： 
- 修改rpc包头判断中的MMS字段
- 调试epic实时解算和融合库，解决调用新库部分接口出现的崩溃问题
- 将国内分支SERVICE-Main中的修改合并其中

---

# 国产线扫相关
## 线扫测试工具：
当前线扫测试功能代码实现于操控服务main.cpp中，运行服务时使用选项-s启动
提供给非开发人员时，通过使用shell脚本简化服务启动步骤。

注意：使用时，采集点云文件存放于*SSD/DATA/eprtest*中，如果无此目录则无法存储点云。

shell脚本名：epic-lidar-test.sh（曾用名：ilsp-test.sh），目前需要将其存放于/root目录下